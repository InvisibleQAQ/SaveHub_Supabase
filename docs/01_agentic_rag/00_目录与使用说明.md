# Agentic-RAG 改造文档包（SaveHub）

本目录用于指导你把当前 `self_rag` 方案，重构为基于 `LangGraph` 的 `agentic-rag` 方案。

## 目录说明

- `01_目标架构与决策.md`：目标架构、范围边界、关键设计原则
- `02_实施总TODO.md`：总任务清单（可勾选），按阶段推进
- `03_后端实施步骤.md`：后端逐步改造说明（含文件级改造点）
- `04_前端实施步骤.md`：前端逐步改造说明（含状态展示与SSE消费）
- `05_SSE事件协议_v2.md`：新路由的事件协议定义（兼容现有引用卡片）
- `06_数据库与检索策略.md`：`all_embeddings` 与检索工具策略
- `07_测试与验收清单.md`：从联调到上线前的验收标准
- `08_风险与回滚方案.md`：风险、监控、降级/回滚策略

## 如何使用这套文档

1. 先阅读 `01_目标架构与决策.md`
2. 按 `02_实施总TODO.md` 执行，每完成一项打勾
3. 每个阶段具体实现细节到 `03/04/05/06`
4. 阶段完成后使用 `07_测试与验收清单.md` 逐条验收
5. 任何异常或质量波动，按 `08_风险与回滚方案.md` 处理

## 当前已确认的需求约束（来自你本次对话）

- 新路由：`/api/agentic-rag/stream`
- 框架：引入 `LangGraph`
- 模型：支持 `tool calling`
- 支持人类澄清（Human-in-the-loop）
- 支持多问题拆分并聚合
- 回答严格“仅基于知识库”
- 前端保留 `[ref:N]` + article/repository 来源卡片
- UI 展示 Agent 过程状态（重写、工具调用、二次检索、聚合）
- 暂无严格性能SLA
- 最终仅保留 `agentic_rag`（不再使用 `self_rag`）

